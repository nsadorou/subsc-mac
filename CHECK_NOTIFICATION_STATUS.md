# 通知権限の確認と設定

## macOSシステム設定で確認

1. **システム設定を開く**
   - Appleメニュー → システム設定
   - または `Command + Space` で「システム設定」を検索

2. **通知を選択**
   - 左サイドバーから「通知」をクリック

3. **SubscriptionManagerを探す**
   - アプリ一覧から「SubscriptionManager」を見つける
   - 通知が「オン」になっているか確認

## アプリ内での確認

1. **設定画面を開く**
   - アプリ内の設定タブをクリック

2. **通知設定を確認**
   - 通知権限の状態が表示される
   - 「通知が許可されています」と表示されればOK

3. **デバッグログで確認**
   - 設定 → デバッグログ
   - `Notification permission status: 3` なら許可済み
   - 値の意味：
     - 0: 未決定
     - 1: 拒否
     - 2: 仮許可
     - 3: 許可

## トラブルシューティング

### 通知が許可されない場合

1. **アプリを再起動**
   - Command + Q でアプリを終了
   - 再度起動

2. **手動で許可**
   - システム設定 → 通知
   - SubscriptionManagerを選択
   - 「通知を許可」をオン

3. **リセット（最終手段）**
   ```bash
   # ターミナルで実行
   tccutil reset Notifications com.morisatoru.SubscriptionManager
   ```
   その後アプリを再起動

## 正常動作の確認

通知が許可されると：
- ログに `Notification permission status: 3` と表示
- 新規サブスクリプション追加時に通知設定が可能
- テスト通知が送信できる
- 実際の更新通知がスケジュールされる